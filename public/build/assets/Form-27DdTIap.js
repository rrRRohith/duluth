import{P as S,r as x,j as e,W as j}from"./app-DjrDR0lF.js";import{P as h}from"./PrimaryButton-CfHMlCR-.js";import w from"./Wrapper-uA2doCmc.js";import{I as n,T as d}from"./TextInput-By-Dnhag.js";import{I as o}from"./InputLabel-gxTg0pbB.js";import{S as v}from"./SecondaryButton-Bl-7jcmw.js";import{A as C}from"./ActionButton-BJW0oMsr.js";import{R as k}from"./quill.snow-BEgkSPi8.js";import{S as T}from"./react-select.esm-4yi8y5Qo.js";import"./Layout-scyPRIPA.js";import"./Flash-C-Yq9uuo.js";import"./Nav-BrnsnLUP.js";import"./Aside-BNpqaygo.js";import"./index-Bwk6uAgZ.js";function V({service:s}){const{data:a,setData:l,post:f,errors:i,processing:N}=S({title:s==null?void 0:s.title,description:s==null?void 0:s.description,icon:s==null?void 0:s.icon,type:(s==null?void 0:s.type)||"accordion",_method:s?"PUT":"POST",services:(s==null?void 0:s.services)||[]}),[p,I]=x.useState(a.content);x.useEffect(t=>{l("content",p)},[p]);const g=t=>{t.preventDefault(),f(s?route("admin.service-descriptions.update",s.id):route("admin.service-descriptions.store"))},b=()=>{l("services",[...a.services,{title:"",description:"",id:Math.random()}])},u=[{value:"accordion",label:"Accordion"},{value:"card",label:"Card"}],y=u.find(t=>t.value===a.type);return e.jsx(w,{title:s?"Edit service":"Create new service",children:e.jsxs("section",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:s?"Edit service":"Create new service"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your home page service descriptions."})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(j,{href:route("admin.service-descriptions.index"),children:e.jsx(h,{children:"Back to services"})})})]}),e.jsx("div",{className:"mt-6 space-y-6",children:e.jsx("div",{className:"max-w-xl",children:e.jsxs("form",{onSubmit:g,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Type"}),e.jsx(T,{options:u,defaultValue:y,onChange:t=>l("type",t.value),className:"mt-1 block w-full",required:!0}),e.jsx(n,{className:"mt-2",message:i.type})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Title"}),e.jsx(d,{className:"mt-1 block w-full",value:a.title,onChange:t=>l("title",t.target.value),required:!0,isFocused:!0}),e.jsx(n,{className:"mt-2",message:i.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Icon"}),e.jsx(d,{className:"mt-1 block w-full",value:a.icon,onChange:t=>l("icon",t.target.value)}),e.jsx(n,{className:"mt-2",message:i.icon})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Description"}),e.jsx(d,{className:"mt-1 block w-full",value:a.description,onChange:t=>l("description",t.target.value),required:!0}),e.jsx(n,{className:"mt-2",message:i.description})]}),a.type==="accordion"&&e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{class:"text-lg font-medium text-gray-900 mb-4",children:"Services"}),a.services.map((t,r)=>e.jsxs("div",{className:"mb-4 border-b pb-4",children:[e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(o,{value:"Title"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(d,{className:"mt-1 block w-full",value:t.title,onChange:c=>{const m=[...a.services];m[r].title=c.target.value,l("services",m)}}),e.jsx(C,{className:"mt-1",title:"Delete this item",onClick:()=>{const c=[...a.services];c.splice(r,1),l("services",c)},children:e.jsx("i",{className:"bi bi-trash m-auto text-lg"})})]}),e.jsx(n,{className:"mt-2",message:i.services&&i.services[r]?i.services[r].title:""})]}),e.jsx(o,{value:"Description"}),e.jsx(k,{theme:"snow",value:t.description,onChange:c=>{const m=[...a.services];m[r].description=c,l("services",m)},style:{height:"200px"}}),e.jsx("div",{className:"mb-10"}),e.jsx(n,{className:"mt-2",message:i.services&&i.services[r]?i.services[r].description:""})]},t.id||r))]}),e.jsx(v,{type:"button",onClick:b,children:"Add new service"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{href:route("admin.service-descriptions.index"),children:e.jsx(v,{type:"button",children:"Cancel"})}),e.jsx(h,{disabled:N,children:"Save"})]})]})})})]})})}export{V as default};
