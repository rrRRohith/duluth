import{P as b,r as p,j as e,W as u}from"./app-CElwPYKk.js";import{P as j}from"./PrimaryButton-DRYl7jN4.js";import w from"./Wrapper-DTJ_az-O.js";import{T as d,I as m}from"./TextInput-Fv7Qg35N.js";import{I as o}from"./InputLabel-DfNUZ92e.js";import{S as h}from"./SecondaryButton-DxaCV_Fm.js";import{A as y}from"./ActionButton-BBHR2DKh.js";import{R as C}from"./quill.snow-DPbQlGH_.js";import"./Layout-CVpvFbbH.js";import"./Flash-BBE7-q7v.js";import"./Nav-C3GtrgHX.js";import"./Aside-h88agkaq.js";function F({service:s}){const{data:i,setData:r,post:v,errors:a,processing:f}=b({title:s==null?void 0:s.title,description:s==null?void 0:s.description,icon:s==null?void 0:s.icon,_method:s?"PUT":"POST",services:(s==null?void 0:s.services)||[]}),[x,S]=p.useState(i.content);p.useEffect(t=>{r("content",x)},[x]);const N=t=>{t.preventDefault(),v(s?route("admin.service-descriptions.update",s.id):route("admin.service-descriptions.store"))},g=()=>{r("services",[...i.services,{title:"",description:"",id:Math.random()}])};return e.jsx(w,{title:s?"Edit service":"Create new service",children:e.jsxs("section",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:s?"Edit service":"Create new service"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your home page service descriptions."})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(u,{href:route("admin.service-descriptions.index"),children:e.jsx(j,{children:"Back to services"})})})]}),e.jsx("div",{className:"mt-6 space-y-6",children:e.jsx("div",{className:"max-w-xl",children:e.jsxs("form",{onSubmit:N,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Title"}),e.jsx(d,{className:"mt-1 block w-full",value:i.title,onChange:t=>r("title",t.target.value),required:!0,isFocused:!0}),e.jsx(m,{className:"mt-2",message:a.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Icon"}),e.jsx(d,{className:"mt-1 block w-full",value:i.icon,onChange:t=>r("icon",t.target.value)}),e.jsx(m,{className:"mt-2",message:a.icon})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Description"}),e.jsx(d,{className:"mt-1 block w-full",value:i.description,onChange:t=>r("description",t.target.value),required:!0}),e.jsx(m,{className:"mt-2",message:a.description})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{class:"text-lg font-medium text-gray-900 mb-4",children:"Services"}),i.services.map((t,c)=>e.jsxs("div",{className:"mb-4 border-b pb-4",children:[e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(o,{value:"Title"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(d,{className:"mt-1 block w-full",value:t.title,onChange:l=>{const n=[...i.services];n[c].title=l.target.value,r("services",n)}}),e.jsx(y,{className:"mt-1",title:"Delete this item",onClick:()=>{const l=[...i.services];l.splice(c,1),r("services",l)},children:e.jsx("i",{className:"bi bi-trash m-auto text-lg"})})]}),e.jsx(m,{className:"mt-2",message:a.services&&a.services[c]?a.services[c].title:""})]}),e.jsx(o,{value:"Description"}),e.jsx(C,{theme:"snow",value:t.description,onChange:l=>{const n=[...i.services];n[c].description=l,r("services",n)},style:{height:"200px"}}),e.jsx("div",{className:"mb-10"}),e.jsx(m,{className:"mt-2",message:a.services&&a.services[c]?a.services[c].description:""})]},t.id||c))]}),e.jsx(h,{type:"button",onClick:g,children:"Add new service"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{href:route("admin.service-descriptions.index"),children:e.jsx(h,{type:"button",children:"Cancel"})}),e.jsx(j,{disabled:f,children:"Save"})]})]})})})]})})}export{F as default};
