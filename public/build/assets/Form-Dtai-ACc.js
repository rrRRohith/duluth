import{P as b,r as u,j as e,W as x}from"./app-fRgEF_iA.js";import{P as j}from"./PrimaryButton-OkXRo0of.js";import w from"./Wrapper-B9ZNIkim.js";import{T as d,I as m}from"./TextInput-DTuz8Kgn.js";import{I as o}from"./InputLabel-DSMQA4LF.js";import{S as h}from"./SecondaryButton-3mSxMSI9.js";import{A as y}from"./ActionButton-MYqxrKvF.js";import{R as q}from"./quill.snow-Dd_yIRQK.js";import"./Layout-BsB7zDN-.js";import"./Flash-KTNIKSty.js";import"./Nav-DJcYPRWD.js";import"./Aside-BC1Z2Qtb.js";function F({equipment:s}){const{data:i,setData:r,post:v,errors:a,processing:f}=b({title:s==null?void 0:s.title,description:s==null?void 0:s.description,icon:s==null?void 0:s.icon,_method:s?"PUT":"POST",equipments:(s==null?void 0:s.equipments)||[]}),[p,C]=u.useState(i.content);u.useEffect(t=>{r("content",p)},[p]);const N=t=>{t.preventDefault(),v(s?route("admin.equipment-descriptions.update",s.id):route("admin.equipment-descriptions.store"))},g=()=>{r("equipments",[...i.equipments,{title:"",description:"",id:Math.random()}])};return e.jsx(w,{title:s?"Edit equipment":"Create new equipment",children:e.jsxs("section",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:s?"Edit equipment":"Create new equipment"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your home page equipment descriptions."})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(x,{href:route("admin.equipment-descriptions.index"),children:e.jsx(j,{children:"Back to equipments"})})})]}),e.jsx("div",{className:"mt-6 space-y-6",children:e.jsx("div",{className:"max-w-xl",children:e.jsxs("form",{onSubmit:N,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Title"}),e.jsx(d,{className:"mt-1 block w-full",value:i.title,onChange:t=>r("title",t.target.value),required:!0,isFocused:!0}),e.jsx(m,{className:"mt-2",message:a.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Icon"}),e.jsx(d,{className:"mt-1 block w-full",value:i.icon,onChange:t=>r("icon",t.target.value)}),e.jsx(m,{className:"mt-2",message:a.icon})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:"Description"}),e.jsx(d,{className:"mt-1 block w-full",value:i.description,onChange:t=>r("description",t.target.value),required:!0}),e.jsx(m,{className:"mt-2",message:a.description})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{class:"text-lg font-medium text-gray-900 mb-4",children:"Equipments"}),i.equipments.map((t,l)=>e.jsxs("div",{className:"mb-4 border-b pb-4",children:[e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(o,{value:"Title"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(d,{className:"mt-1 block w-full",value:t.title,onChange:n=>{const c=[...i.equipments];c[l].title=n.target.value,r("equipments",c)}}),e.jsx(y,{className:"mt-1",title:"Delete this item",onClick:()=>{const n=[...i.equipments];n.splice(l,1),r("equipments",n)},children:e.jsx("i",{className:"bi bi-trash m-auto text-lg"})})]}),e.jsx(m,{className:"mt-2",message:a.equipments&&a.equipments[l]?a.equipments[l].title:""})]}),e.jsx(o,{value:"Description"}),e.jsx(q,{theme:"snow",value:t.description,onChange:n=>{const c=[...i.equipments];c[l].description=n,r("equipments",c)},style:{height:"200px"}}),e.jsx("div",{className:"mb-10"}),e.jsx(m,{className:"mt-2",message:a.equipments&&a.equipments[l]?a.equipments[l].description:""})]},t.id||l))]}),e.jsx(h,{type:"button",onClick:g,children:"Add new equipment"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{href:route("admin.equipment-descriptions.index"),children:e.jsx(h,{type:"button",children:"Cancel"})}),e.jsx(j,{disabled:f,children:"Save"})]})]})})})]})})}export{F as default};
